[{"E:\\reactcreatTs\\自己动手\\react-ts-antd-router-less-基本完成\\src\\index.tsx":"1","E:\\reactcreatTs\\自己动手\\react-ts-antd-router-less-基本完成\\src\\pages\\home\\index.ts":"2","E:\\reactcreatTs\\自己动手\\react-ts-antd-router-less-基本完成\\src\\pages\\home\\Home.tsx":"3","E:\\reactcreatTs\\自己动手\\react-ts-antd-router-less-基本完成\\src\\config.ts":"4"},{"size":602,"mtime":1609810775502,"results":"5","hashOfConfig":"6"},{"size":30,"mtime":1605238833335,"results":"7","hashOfConfig":"6"},{"size":9545,"mtime":1608023372038,"results":"8","hashOfConfig":"6"},{"size":461,"mtime":1608023436685,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"iaomud",{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"14","messages":"15","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19"},"E:\\reactcreatTs\\自己动手\\react-ts-antd-router-less-基本完成\\src\\index.tsx",["20","21"],"E:\\reactcreatTs\\自己动手\\react-ts-antd-router-less-基本完成\\src\\pages\\home\\index.ts",[],"E:\\reactcreatTs\\自己动手\\react-ts-antd-router-less-基本完成\\src\\pages\\home\\Home.tsx",["22","23","24","25","26","27"],"import React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Carousel, Row, Col, Tabs } from 'antd';\r\nimport banner1 from \"@/imgs/lunbo1.png\"\r\nimport banner2 from \"@/imgs/lunbo2.png\"\r\nimport test from \"@/imgs/test.jpg\"\r\nimport xqdtImg from \"@/imgs/xqdt.png\"\r\n// import $ from 'jquery';\r\n// import \"@/lib/slider/jquery.bxslider\"\r\nimport { _newsList, _getVideoList, _rwList } from \"@service\"\r\n\r\nimport \"./style.less\"\r\n// import { set } from 'mobx';\r\n\r\ninterface listParam {\r\n    typename: string,\r\n    [propName: string]: any\r\n}\r\nconst tabList = [{\r\n    id: '1',\r\n    type: 'tzgg',\r\n    path: \"/home\",\r\n    name: \"通知公告\"\r\n}, {\r\n    id: '2',\r\n    path: \"/home\",\r\n    type: 'kjwx',\r\n    name: \"科技文献\"\r\n}, {\r\n    id: '3',\r\n    type: 'zljs',\r\n    path: \"https://wxkx.wanxiangyun.net/search/index\",\r\n    name: \"专利检索\"\r\n}]\r\nconst Home: React.FC = () => {\r\n    const { TabPane } = Tabs;\r\n    const history = useHistory();\r\n    const [newsList, setNewsList] = useState<any>({})\r\n    const [currentList, setCurrentList] = useState<any>([])\r\n    const [videoList, setVideoList] = useState<any>([])\r\n    const [rwList, setRwList] = useState<any>([])\r\n    const sw_settings = {\r\n        dots: true,\r\n        infinite: true,\r\n\r\n\r\n        slidesToShow: 6,\r\n        slidesToScroll: 1,\r\n        autoplay: true,\r\n        speed: 2000,\r\n        autoplaySpeed: 2000,\r\n        cssEase: \"linear\"\r\n    };\r\n    useEffect(() => {\r\n        getNewsList({\r\n            typename: \"tzgg\",\r\n            pageSize: \"5\"\r\n        })\r\n        getNewsList({\r\n            typename: \"kjwx\",\r\n            pageSize: \"5\"\r\n        })\r\n        getNewsList({\r\n            typename: \"hyyb\",\r\n            pageSize: \"5\"\r\n        })\r\n        console.log('effecthook');\r\n        \r\n        getVideoList()\r\n        getRwList()\r\n    }, [])\r\n    useEffect(() => {\r\n        if (!currentList.length && newsList.tzgg && newsList.tzgg.length) {\r\n            setCurrentList(newsList.tzgg)\r\n        }\r\n\r\n    }, [newsList])\r\n\r\n    const getNewsList = async (opt?: Object) => {\r\n        let param: listParam = Object.assign({\r\n            pageSize: \"2\",\r\n            pindex: \"1\",\r\n            typename: \"hyyb\"\r\n        }, opt)\r\n        const res: any = await _newsList(param);\r\n        console.log('getNewsList hook');\r\n        setNewsList((data) => {\r\n            let newData = { ...data, [param.typename]: JSON.parse(res.result) }\r\n            return newData\r\n\r\n        })\r\n\r\n\r\n    }\r\n    const getVideoList = async (opt?: Object) => {\r\n        const res: any = await _getVideoList({\r\n            pageSize: \"2\",\r\n            pindex: 1,\r\n            typename: \"zjrckzkdx\"\r\n        });\r\n        setVideoList(JSON.parse(res.result))\r\n    }\r\n    const getRwList = async (opt?: Object) => {\r\n        const res: any = await _rwList({\r\n            pageSize: \"999\",\r\n            pindex: \"1\",\r\n            typename: \"zjrck\"\r\n        });\r\n        setRwList(JSON.parse(res.result))\r\n    }\r\n    const goReleasePage = () => {\r\n        history.replace(\"/release\")\r\n    }\r\n    const tabClick = (val) => {\r\n        console.log(val);\r\n        const tab: any = tabList.find(v => v.type == val)\r\n        if (val == 'zljs') {\r\n            window.open(tab.path)\r\n        } else {\r\n            setCurrentList(newsList[val])\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"page-home\">\r\n            <section className=\"banner\">\r\n                <Carousel autoplay>\r\n                    <div>\r\n                        <div className=\"s_item\" style={{ backgroundImage: 'url(' + banner1 + ')', color: \"red\" }}>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"s_item\" style={{ backgroundImage: 'url(' + banner2 + ')' }}>\r\n                        </div>\r\n                    </div>\r\n                </Carousel>\r\n            </section>\r\n\r\n            <section className=\"tzgg w1200\">\r\n                <Row gutter={20}>\r\n                    {\r\n                        newsList.tzgg && newsList.tzgg.map((v: any) => {\r\n                            return (\r\n                                <Col span={12} key={v.id}>\r\n                                    {v.title}\r\n                                </Col>\r\n                            )\r\n                        })\r\n                    }\r\n\r\n                </Row>\r\n            </section>\r\n            <section className=\"topNews w1200\">\r\n                <Row gutter={20}>\r\n                    <Col span={12}>\r\n                        <Carousel>\r\n                            <div className=\"swItem\">\r\n                                <img src={test} alt=\"\" />\r\n                                <div className=\"title\">1</div>\r\n                            </div>\r\n                            <div className=\"swItem\">\r\n                                <img src={test} alt=\"\" />\r\n                                <div className=\"title\">2</div>\r\n                            </div>\r\n                            <div className=\"swItem\">\r\n                                <img src={test} alt=\"\" />\r\n                                <div className=\"title\">3</div>\r\n                            </div>\r\n                        </Carousel>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <ul>\r\n                            {newsList.tzgg && newsList.tzgg.map(v => (<li key={v.id}>{v.title}</li>))}\r\n                        </ul>\r\n\r\n                    </Col>\r\n                </Row>\r\n            </section>\r\n            <section className=\"xqdt w1200\">\r\n                {/* <Link to='/release'><img src={xqdtImg} onClick={goReleasePage} alt=\"\"/></Link>    */}\r\n                <img className=\"vImg\" src={xqdtImg} onClick={goReleasePage} alt=\"\" />\r\n            </section>\r\n            <section className=\"newsAndVideo w1200\">\r\n                <Row gutter={20}>\r\n                    <Col span={12}>\r\n                        <Tabs defaultActiveKey=\"tzgg\" onChange={tabClick}>\r\n                            {\r\n                                tabList.map(v => {\r\n                                    console.log('dom hook');\r\n                                    \r\n                                    return (\r\n                                        <TabPane tab={v.name} key={v.type}>\r\n                                            <ul>\r\n                                                {currentList.map(v => {\r\n                                                    return (\r\n                                                        <li key={v.id}>{v.title}</li>\r\n                                                    )\r\n                                                })}\r\n                                            </ul>\r\n\r\n                                        </TabPane>\r\n                                    )\r\n                                })\r\n                            }\r\n\r\n                        </Tabs>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Row>\r\n                            {\r\n                                videoList.map(v => {\r\n                                    return (<Col span={12} key={v.id}>\r\n                                        <img className=\"vImg\" src={'/' + v.cover} alt=\"\" />\r\n                                    </Col>)\r\n                                })\r\n                            }\r\n\r\n                        </Row>\r\n                    </Col>\r\n\r\n                </Row>\r\n            </section>\r\n            <section className=\"swiper w1200\">\r\n                <div>\r\n                    <Carousel  {...sw_settings}>\r\n                        {\r\n                            rwList.map(v => {\r\n                                return (\r\n\r\n                                    <img key={v.id} src={'/' + v.images} alt=\"\" />\r\n\r\n                                )\r\n                            })\r\n                        }\r\n                    </Carousel>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    )\r\n}\r\n// export default Home;\r\n\r\nclass Home1 extends React.Component<any> {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            newsList: {\r\n                txgg: [],\r\n                xhdt: []\r\n            }\r\n        }\r\n    }\r\n    async getNewsList(opt?: Object) {\r\n        let res: any = await _newsList({\r\n            pageSize: \"4\",\r\n            pindex: \"1\",\r\n            typename: \"hyyb\"\r\n        });\r\n        // this.setState({\r\n        //     newsList:Object.assign((this.state as any).newsList,{\r\n        //         tzgg:JSON.parse(res.result)\r\n        //     })\r\n        // })\r\n        // setTimeout( ()=>{\r\n        //     console.log((this.state as any).newsList);\r\n\r\n        // },1)\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.getNewsList();\r\n    }\r\n    render() {\r\n\r\n\r\n        return <div className=\"page-home\">\r\n            <section className=\"banner\">\r\n                <Carousel autoplay>\r\n                    <div>\r\n                        <div className=\"s_item\" style={{ backgroundImage: 'url(' + banner1 + ')', color: \"red\" }}>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"s_item\" style={{ backgroundImage: 'url(' + banner2 + ')' }}>\r\n                        </div>\r\n                    </div>\r\n                </Carousel>\r\n            </section>\r\n            <section className=\"topNews\">\r\n\r\n            </section>\r\n\r\n        </div>\r\n    }\r\n\r\n}\r\nexport default Home;","E:\\reactcreatTs\\自己动手\\react-ts-antd-router-less-基本完成\\src\\config.ts",["28"],"/**\n * 应用配置\n */\n\nconst CONFIG_BASE = {\n  // html的tite\n  htmlTitle: 'Admin - {title}'\n  // 请求配置\n}\n\n// 开发配置\nconst CONFIG_DEV = {\n  domain: '/api'\n}\n\n// 测试配置\nconst CONFIG_TEST = {\n  domain: '/api'\n}\n\n// 生产配置\nconst CONFIG_PRO = {\n  domain: ''\n}\n\nconst ENV_CONFIG_MAP = {\n  development: CONFIG_DEV,\n  test: CONFIG_TEST,\n  production: CONFIG_PRO\n}\n\nexport default { ...CONFIG_BASE, ...ENV_CONFIG_MAP[process.env.NODE_ENV!] }\n",{"ruleId":"29","severity":1,"message":"30","line":4,"column":10,"nodeType":"31","messageId":"32","endLine":4,"endColumn":24},{"ruleId":"29","severity":1,"message":"33","line":7,"column":8,"nodeType":"31","messageId":"32","endLine":7,"endColumn":11},{"ruleId":"29","severity":1,"message":"34","line":2,"column":10,"nodeType":"31","messageId":"32","endLine":2,"endColumn":14},{"ruleId":"35","severity":1,"message":"36","line":77,"column":8,"nodeType":"37","endLine":77,"endColumn":18,"suggestions":"38"},{"ruleId":"39","severity":1,"message":"40","line":116,"column":51,"nodeType":"41","messageId":"42","endLine":116,"endColumn":53},{"ruleId":"39","severity":1,"message":"40","line":117,"column":17,"nodeType":"41","messageId":"42","endLine":117,"endColumn":19},{"ruleId":"29","severity":1,"message":"43","line":244,"column":7,"nodeType":"31","messageId":"32","endLine":244,"endColumn":12},{"ruleId":"29","severity":1,"message":"44","line":255,"column":13,"nodeType":"31","messageId":"32","endLine":255,"endColumn":21},{"ruleId":"45","severity":1,"message":"46","line":32,"column":1,"nodeType":"47","endLine":32,"endColumn":76},"@typescript-eslint/no-unused-vars","'ConfigProvider' is defined but never used.","Identifier","unusedVar","'App' is defined but never used.","'Link' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'currentList.length'. Either include it or remove the dependency array.","ArrayExpression",["48"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'Home1' is defined but never used.","'res' is assigned a value but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration",{"desc":"49","fix":"50"},"Update the dependencies array to be: [currentList.length, newsList]",{"range":"51","text":"52"},[2001,2011],"[currentList.length, newsList]"]